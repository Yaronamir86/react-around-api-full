{"ast":null,"code":"import _slicedToArray from\"C:/Users/97250/around-us-project-14/react-around-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfileModal=function EditProfileModal(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isLoading=_ref.isLoading;var currentUser=useContext(CurrentUserContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){setName(currentUser.name||\"\");setDescription(currentUser.about||\"\");},[currentUser,isOpen]);var handleNameChange=function handleNameChange(e){setName(e.target.value);};var handleDescriptionChange=function handleDescriptionChange(e){setDescription(e.target.value);};function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{title:\"Edit-profile\",name:\"edit-profile\",isOpen:isOpen,buttonText:\"\".concat(isLoading?\"Saving...\":\"Save\"),onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__fieldset form__fieldset_type_profile\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",type:\"text\",name:\"user\",placeholder:\"name\",className:\"form__input form__input_type_name\",minLength:\"2\",maxLength:\"40\",value:name,onChange:handleNameChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"about-me-input\",type:\"text\",name:\"about\",placeholder:\"about me\",className:\"form__input form__input_type_about-me\",minLength:\"2\",maxLength:\"200\",value:description,onChange:handleDescriptionChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error about-me-input-error\"})]})});};export default EditProfileModal;","map":{"version":3,"names":["React","useState","useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfileModal","isOpen","onClose","onUpdateUser","isLoading","currentUser","name","setName","description","setDescription","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault"],"sources":["C:/Users/97250/around-us-project-14/react-around-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfileModal = ({ isOpen, onClose, onUpdateUser, isLoading }) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"\");\n\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name || \"\");\n    setDescription(currentUser.about || \"\");\n  }, [currentUser, isOpen]);\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Edit-profile\"\n      name=\"edit-profile\"\n      isOpen={isOpen}\n      buttonText={`${isLoading ? \"Saving...\" : \"Save\"}`}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"form__fieldset form__fieldset_type_profile\">\n        <input\n          id=\"name-input\"\n          type=\"text\"\n          name=\"user\"\n          placeholder=\"name\"\n          className=\"form__input form__input_type_name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleNameChange}\n          required\n        />\n        <span className=\"form__input-error name-input-error\"></span>\n        <input\n          id=\"about-me-input\"\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"about me\"\n          className=\"form__input form__input_type_about-me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleDescriptionChange}\n          required\n        />\n        <span className=\"form__input-error about-me-input-error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfileModal;\n"],"mappings":"2IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,MAAkD,IAA/CC,OAA+C,MAA/CA,MAA+C,CAAvCC,OAAuC,MAAvCA,OAAuC,CAA9BC,YAA8B,MAA9BA,YAA8B,CAAhBC,SAAgB,MAAhBA,SAAgB,CACzE,GAAMC,YAAW,CAAGT,UAAU,CAACG,kBAAD,CAA9B,CAEA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eAEA,eAAsCZ,QAAQ,CAAC,EAAD,CAA9C,yCAAOa,WAAP,eAAoBC,cAApB,eAEAZ,SAAS,CAAC,UAAM,CACdU,OAAO,CAACF,WAAW,CAACC,IAAZ,EAAoB,EAArB,CAAP,CACAG,cAAc,CAACJ,WAAW,CAACK,KAAZ,EAAqB,EAAtB,CAAd,CACD,CAHQ,CAGN,CAACL,WAAD,CAAcJ,MAAd,CAHM,CAAT,CAKA,GAAMU,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,CAAD,CAAO,CAC9BL,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAFD,CAIA,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACH,CAAD,CAAO,CACrCH,cAAc,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAFD,CAIA,QAASE,aAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACAd,YAAY,CAAC,CACXG,IAAI,CAAJA,IADW,CAEXI,KAAK,CAAEF,WAFI,CAAD,CAAZ,CAID,CAED,mBACE,KAAC,aAAD,EACE,KAAK,CAAC,cADR,CAEE,IAAI,CAAC,cAFP,CAGE,MAAM,CAAEP,MAHV,CAIE,UAAU,WAAKG,SAAS,CAAG,WAAH,CAAiB,MAA/B,CAJZ,CAKE,OAAO,CAAEF,OALX,CAME,QAAQ,CAAEc,YANZ,uBAQE,kBAAU,SAAS,CAAC,4CAApB,wBACE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,MAJd,CAKE,SAAS,CAAC,mCALZ,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,KAAK,CAAEV,IART,CASE,QAAQ,CAAEK,gBATZ,CAUE,QAAQ,KAVV,EADF,cAaE,aAAM,SAAS,CAAC,oCAAhB,EAbF,cAcE,cACE,EAAE,CAAC,gBADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,UAJd,CAKE,SAAS,CAAC,uCALZ,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,KAPZ,CAQE,KAAK,CAAEH,WART,CASE,QAAQ,CAAEO,uBATZ,CAUE,QAAQ,KAVV,EAdF,cA0BE,aAAM,SAAS,CAAC,wCAAhB,EA1BF,GARF,EADF,CAuCD,CAnED,CAqEA,cAAef,iBAAf"},"metadata":{},"sourceType":"module"}