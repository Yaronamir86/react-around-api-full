{"ast":null,"code":"import _classCallCheck from\"C:/Users/97250/around-us-project-14/react-around-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/97250/around-us-project-14/react-around-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,_headers=_ref.headers;_classCallCheck(this,Api);this._customFetch=function(url,headers){return fetch(url,headers).then(function(res){return res.ok?res.json():Promise.reject(res.statusText);});};this._baseUrl=baseUrl;this._headers=_headers;}_createClass(Api,[{key:\"getInitialCards\",value://.catch(console.log);\nfunction getInitialCards(){return this._customFetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers});}},{key:\"getUserInfo\",value:function getUserInfo(){return this._customFetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers});}},{key:\"editProfile\",value:function editProfile(_ref2){var name=_ref2.name,about=_ref2.about;return this._customFetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers,method:\"PATCH\",body:JSON.stringify({name:name,about:about})});}},{key:\"editAvatar\",value:function editAvatar(url){return this._customFetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{headers:this._headers,method:\"PATCH\",body:JSON.stringify({avatar:url})});}},{key:\"createCards\",value:function createCards(data){return this._customFetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers,method:\"POST\",body:JSON.stringify(data)});}},{key:\"deleteCards\",value:function deleteCards(cardId){return this._customFetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{headers:this._headers,method:\"DELETE\"});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return this._customFetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{headers:this._headers,method:\"PUT\"});}else{return this._customFetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{headers:this._headers,method:\"DELETE\"});}}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/cohort-3-en\",headers:{authorization:\"a42b1115-c728-4ed0-ac26-3d3a2cd8e95d\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","baseUrl","headers","_customFetch","url","fetch","then","res","ok","json","Promise","reject","statusText","_baseUrl","_headers","name","about","method","body","JSON","stringify","avatar","data","cardId","isLiked","api","authorization"],"sources":["C:/Users/97250/around-us-project-14/react-around-auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _customFetch = (url, headers) =>\n    fetch(url, headers).then((res) =>\n      res.ok ? res.json() : Promise.reject(res.statusText)\n    );\n  //.catch(console.log);\n\n  getInitialCards() {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    });\n  }\n\n  getUserInfo() {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    });\n  }\n\n  editProfile({ name, about }) {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    });\n  }\n\n  editAvatar(url) {\n    return this._customFetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: url,\n      }),\n    });\n  }\n\n  createCards(data) {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  deleteCards(cardId) {\n    return this._customFetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"PUT\",\n      });\n    } else {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"DELETE\",\n      });\n    }\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/cohort-3-en\",\n  headers: {\n    authorization: \"a42b1115-c728-4ed0-ac26-3d3a2cd8e95d\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"],"mappings":"uRAAMA,I,yBACJ,kBAAkC,IAApBC,QAAoB,MAApBA,OAAoB,CAAXC,QAAW,MAAXA,OAAW,gCAKlCC,YALkC,CAKnB,SAACC,GAAD,CAAMF,OAAN,QACbG,MAAK,CAACD,GAAD,CAAMF,OAAN,CAAL,CAAoBI,IAApB,CAAyB,SAACC,GAAD,QACvBA,IAAG,CAACC,EAAJ,CAASD,GAAG,CAACE,IAAJ,EAAT,CAAsBC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,UAAnB,CADC,EAAzB,CADa,EALmB,CAChC,KAAKC,QAAL,CAAgBZ,OAAhB,CACA,KAAKa,QAAL,CAAgBZ,QAAhB,CACD,C,+CAMD;AAEA,0BAAkB,CAChB,MAAO,MAAKC,YAAL,WAAqB,KAAKU,QAA1B,WAA4C,CACjDX,OAAO,CAAE,KAAKY,QADmC,CAA5C,CAAP,CAGD,C,2BAED,sBAAc,CACZ,MAAO,MAAKX,YAAL,WAAqB,KAAKU,QAA1B,cAA+C,CACpDX,OAAO,CAAE,KAAKY,QADsC,CAA/C,CAAP,CAGD,C,2BAED,2BAA6B,IAAfC,KAAe,OAAfA,IAAe,CAATC,KAAS,OAATA,KAAS,CAC3B,MAAO,MAAKb,YAAL,WAAqB,KAAKU,QAA1B,cAA+C,CACpDX,OAAO,CAAE,KAAKY,QADsC,CAEpDG,MAAM,CAAE,OAF4C,CAGpDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAEA,IADa,CAEnBC,KAAK,CAAEA,KAFY,CAAf,CAH8C,CAA/C,CAAP,CAQD,C,0BAED,oBAAWZ,GAAX,CAAgB,CACd,MAAO,MAAKD,YAAL,WAAqB,KAAKU,QAA1B,qBAAsD,CAC3DX,OAAO,CAAE,KAAKY,QAD6C,CAE3DG,MAAM,CAAE,OAFmD,CAG3DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,MAAM,CAAEjB,GADW,CAAf,CAHqD,CAAtD,CAAP,CAOD,C,2BAED,qBAAYkB,IAAZ,CAAkB,CAChB,MAAO,MAAKnB,YAAL,WAAqB,KAAKU,QAA1B,WAA4C,CACjDX,OAAO,CAAE,KAAKY,QADmC,CAEjDG,MAAM,CAAE,MAFyC,CAGjDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeE,IAAf,CAH2C,CAA5C,CAAP,CAKD,C,2BAED,qBAAYC,MAAZ,CAAoB,CAClB,MAAO,MAAKpB,YAAL,WAAqB,KAAKU,QAA1B,mBAA4CU,MAA5C,EAAsD,CAC3DrB,OAAO,CAAE,KAAKY,QAD6C,CAE3DG,MAAM,CAAE,QAFmD,CAAtD,CAAP,CAID,C,oCAED,8BAAqBM,MAArB,CAA6BC,OAA7B,CAAsC,CACpC,GAAIA,OAAJ,CAAa,CACX,MAAO,MAAKrB,YAAL,WAAqB,KAAKU,QAA1B,yBAAkDU,MAAlD,EAA4D,CACjErB,OAAO,CAAE,KAAKY,QADmD,CAEjEG,MAAM,CAAE,KAFyD,CAA5D,CAAP,CAID,CALD,IAKO,CACL,MAAO,MAAKd,YAAL,WAAqB,KAAKU,QAA1B,yBAAkDU,MAAlD,EAA4D,CACjErB,OAAO,CAAE,KAAKY,QADmD,CAEjEG,MAAM,CAAE,QAFyD,CAA5D,CAAP,CAID,CACF,C,mBAGH,GAAMQ,IAAG,CAAG,GAAIzB,IAAJ,CAAQ,CAClBC,OAAO,CAAE,gDADS,CAElBC,OAAO,CAAE,CACPwB,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFS,CAAR,CAAZ,CAQA,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}