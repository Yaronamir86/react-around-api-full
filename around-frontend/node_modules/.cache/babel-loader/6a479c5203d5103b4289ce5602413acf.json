{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers: _headers\n    } = _ref;\n\n    this._customFetch = (url, headers) => fetch(url, headers).then(res => res.ok ? res.json() : Promise.reject(res.statusText));\n\n    this._baseUrl = baseUrl;\n    this._headers = _headers;\n  }\n\n  //.catch(console.log);\n  getInitialCards() {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    });\n  }\n\n  getUserInfo() {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    });\n  }\n\n  editProfile(_ref2) {\n    let {\n      name,\n      about\n    } = _ref2;\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    });\n  }\n\n  editAvatar(url) {\n    return this._customFetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: url\n      })\n    });\n  }\n\n  createCards(data) {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n\n  deleteCards(cardId) {\n    return this._customFetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: \"DELETE\"\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"PUT\"\n      });\n    } else {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"DELETE\"\n      });\n    }\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/cohort-3-en\",\n  headers: {\n    authorization: \"a42b1115-c728-4ed0-ac26-3d3a2cd8e95d\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_customFetch","url","fetch","then","res","ok","json","Promise","reject","statusText","_baseUrl","_headers","getInitialCards","getUserInfo","editProfile","name","about","method","body","JSON","stringify","editAvatar","avatar","createCards","data","deleteCards","cardId","changeLikeCardStatus","isLiked","api","authorization"],"sources":["C:/Users/97250/around-us-project-14/react-around-auth/src/utils/api.js"],"sourcesContent":[" class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _customFetch = (url, headers) =>\n    fetch(url, headers).then((res) =>\n      res.ok ? res.json() : Promise.reject(res.statusText)\n    );\n  //.catch(console.log);\n\n  getInitialCards() {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    });\n  }\n\n  getUserInfo() {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    });\n  }\n\n  editProfile({name, about}) {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    });\n  }\n\n  editAvatar(url) {\n    return this._customFetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: url,\n      }),\n    });\n  }\n\n  createCards(data) {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  deleteCards(cardId) {\n    return this._customFetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n    });\n  }\n\n\n  changeLikeCardStatus(cardId, isLiked){\n    if (isLiked) {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"PUT\",\n      });\n    }\n    else {\n      return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        headers: this._headers,\n        method: \"DELETE\",\n      });\n    }\n  }\n}\n\n  const api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/cohort-3-en\",\n  headers: {\n    authorization: \"a42b1115-c728-4ed0-ac26-3d3a2cd8e95d\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;"],"mappings":"AAAC,MAAMA,GAAN,CAAU;EACTC,WAAW,OAAuB;IAAA,IAAtB;MAAEC,OAAF;MAAWC,OAAO,EAAPA;IAAX,CAAsB;;IAAA,KAKlCC,YALkC,GAKnB,CAACC,GAAD,EAAMF,OAAN,KACbG,KAAK,CAACD,GAAD,EAAMF,OAAN,CAAL,CAAoBI,IAApB,CAA0BC,GAAD,IACvBA,GAAG,CAACC,EAAJ,GAASD,GAAG,CAACE,IAAJ,EAAT,GAAsBC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,UAAnB,CADxB,CANgC;;IAChC,KAAKC,QAAL,GAAgBZ,OAAhB;IACA,KAAKa,QAAL,GAAgBZ,QAAhB;EACD;;EAMD;EAEAa,eAAe,GAAG;IAChB,OAAO,KAAKZ,YAAL,CAAmB,GAAE,KAAKU,QAAS,QAAnC,EAA4C;MACjDX,OAAO,EAAE,KAAKY;IADmC,CAA5C,CAAP;EAGD;;EAEDE,WAAW,GAAG;IACZ,OAAO,KAAKb,YAAL,CAAmB,GAAE,KAAKU,QAAS,WAAnC,EAA+C;MACpDX,OAAO,EAAE,KAAKY;IADsC,CAA/C,CAAP;EAGD;;EAEDG,WAAW,QAAgB;IAAA,IAAf;MAACC,IAAD;MAAOC;IAAP,CAAe;IACzB,OAAO,KAAKhB,YAAL,CAAmB,GAAE,KAAKU,QAAS,WAAnC,EAA+C;MACpDX,OAAO,EAAE,KAAKY,QADsC;MAEpDM,MAAM,EAAE,OAF4C;MAGpDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBL,IAAI,EAAEA,IADa;QAEnBC,KAAK,EAAEA;MAFY,CAAf;IAH8C,CAA/C,CAAP;EAQD;;EAEDK,UAAU,CAACpB,GAAD,EAAM;IACd,OAAO,KAAKD,YAAL,CAAmB,GAAE,KAAKU,QAAS,kBAAnC,EAAsD;MAC3DX,OAAO,EAAE,KAAKY,QAD6C;MAE3DM,MAAM,EAAE,OAFmD;MAG3DC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBE,MAAM,EAAErB;MADW,CAAf;IAHqD,CAAtD,CAAP;EAOD;;EAEDsB,WAAW,CAACC,IAAD,EAAO;IAChB,OAAO,KAAKxB,YAAL,CAAmB,GAAE,KAAKU,QAAS,QAAnC,EAA4C;MACjDX,OAAO,EAAE,KAAKY,QADmC;MAEjDM,MAAM,EAAE,MAFyC;MAGjDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeI,IAAf;IAH2C,CAA5C,CAAP;EAKD;;EAEDC,WAAW,CAACC,MAAD,EAAS;IAClB,OAAO,KAAK1B,YAAL,CAAmB,GAAE,KAAKU,QAAS,UAASgB,MAAO,EAAnD,EAAsD;MAC3D3B,OAAO,EAAE,KAAKY,QAD6C;MAE3DM,MAAM,EAAE;IAFmD,CAAtD,CAAP;EAID;;EAGDU,oBAAoB,CAACD,MAAD,EAASE,OAAT,EAAiB;IACnC,IAAIA,OAAJ,EAAa;MACX,OAAO,KAAK5B,YAAL,CAAmB,GAAE,KAAKU,QAAS,gBAAegB,MAAO,EAAzD,EAA4D;QACjE3B,OAAO,EAAE,KAAKY,QADmD;QAEjEM,MAAM,EAAE;MAFyD,CAA5D,CAAP;IAID,CALD,MAMK;MACH,OAAO,KAAKjB,YAAL,CAAmB,GAAE,KAAKU,QAAS,gBAAegB,MAAO,EAAzD,EAA4D;QACjE3B,OAAO,EAAE,KAAKY,QADmD;QAEjEM,MAAM,EAAE;MAFyD,CAA5D,CAAP;IAID;EACF;;AA1EQ;;AA6ET,MAAMY,GAAG,GAAG,IAAIjC,GAAJ,CAAQ;EACpBE,OAAO,EAAE,gDADW;EAEpBC,OAAO,EAAE;IACP+B,aAAa,EAAE,sCADR;IAEP,gBAAgB;EAFT;AAFW,CAAR,CAAZ;AAQF,eAAeD,GAAf"},"metadata":{},"sourceType":"module"}