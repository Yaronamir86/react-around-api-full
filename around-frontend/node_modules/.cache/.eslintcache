[{"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\index.js":"1","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\reportWebVitals.js":"2","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\App.js":"3","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Header.js":"4","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\DeleteCardPopup.js":"5","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Footer.js":"6","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\EditProfilePopup.js":"7","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\EditAvatarPopup.js":"8","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Main.js":"9","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\AddPlacePopup.js":"10","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\ImagePopup.js":"11","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\utils\\api.js":"12","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\contexts\\CurrentUserContext.js":"13","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Card.js":"14","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\PopupWithForm.js":"15","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Login.js":"16","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Register.js":"17","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\ProtectedRoute.js":"18","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\InfoToolTip.js":"19","C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\utils\\auth.js":"20","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\index.js":"21","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\reportWebVitals.js":"22","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\App.js":"23","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Footer.js":"24","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Header.js":"25","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\ImagePopup.js":"26","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\DeleteCardPopup.js":"27","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Main.js":"28","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\EditProfilePopup.js":"29","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Login.js":"30","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\EditAvatarPopup.js":"31","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\AddPlacePopup.js":"32","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\utils\\api.js":"33","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Register.js":"34","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\ProtectedRoute.js":"35","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\InfoToolTip.js":"36","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\utils\\auth.js":"37","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\contexts\\CurrentUserContext.js":"38","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Card.js":"39","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\PopupWithForm.js":"40"},{"size":658,"mtime":1663414383304,"results":"41","hashOfConfig":"42"},{"size":362,"mtime":1663392216017,"results":"43","hashOfConfig":"42"},{"size":8863,"mtime":1663910659080,"results":"44","hashOfConfig":"42"},{"size":970,"mtime":1663965400350,"results":"45","hashOfConfig":"42"},{"size":449,"mtime":1663392216336,"results":"46","hashOfConfig":"42"},{"size":176,"mtime":1663392216413,"results":"47","hashOfConfig":"42"},{"size":1983,"mtime":1663910768445,"results":"48","hashOfConfig":"42"},{"size":1122,"mtime":1663392216364,"results":"49","hashOfConfig":"42"},{"size":1973,"mtime":1663392216488,"results":"50","hashOfConfig":"42"},{"size":1690,"mtime":1663392216253,"results":"51","hashOfConfig":"42"},{"size":919,"mtime":1663965645154,"results":"52","hashOfConfig":"42"},{"size":1905,"mtime":1663942866359,"results":"53","hashOfConfig":"42"},{"size":83,"mtime":1663392216541,"results":"54","hashOfConfig":"42"},{"size":1871,"mtime":1663392216310,"results":"55","hashOfConfig":"42"},{"size":1065,"mtime":1663914479332,"results":"56","hashOfConfig":"42"},{"size":1682,"mtime":1663965691125,"results":"57","hashOfConfig":"42"},{"size":1709,"mtime":1663965723367,"results":"58","hashOfConfig":"42"},{"size":296,"mtime":1663914580891,"results":"59","hashOfConfig":"42"},{"size":1378,"mtime":1663942890500,"results":"60","hashOfConfig":"42"},{"size":1175,"mtime":1663965764086,"results":"61","hashOfConfig":"42"},{"size":678,"mtime":1665444385767,"results":"62","hashOfConfig":"63"},{"size":375,"mtime":1665444385767,"results":"64","hashOfConfig":"63"},{"size":9520,"mtime":1665691679171,"results":"65","hashOfConfig":"63"},{"size":185,"mtime":1665444385755,"results":"66","hashOfConfig":"63"},{"size":1005,"mtime":1665444385756,"results":"67","hashOfConfig":"63"},{"size":954,"mtime":1665444385756,"results":"68","hashOfConfig":"63"},{"size":465,"mtime":1665444385754,"results":"69","hashOfConfig":"63"},{"size":2047,"mtime":1665444385757,"results":"70","hashOfConfig":"63"},{"size":2057,"mtime":1665444385755,"results":"71","hashOfConfig":"63"},{"size":1682,"mtime":1665444385756,"results":"72","hashOfConfig":"63"},{"size":1167,"mtime":1665444385754,"results":"73","hashOfConfig":"63"},{"size":1757,"mtime":1665444385753,"results":"74","hashOfConfig":"63"},{"size":3177,"mtime":1665694316114,"results":"75","hashOfConfig":"63"},{"size":1797,"mtime":1665699212324,"results":"76","hashOfConfig":"63"},{"size":296,"mtime":1665444385757,"results":"77","hashOfConfig":"63"},{"size":1378,"mtime":1665444385756,"results":"78","hashOfConfig":"63"},{"size":1344,"mtime":1665694646958,"results":"79","hashOfConfig":"63"},{"size":85,"mtime":1665444385758,"results":"80","hashOfConfig":"63"},{"size":1943,"mtime":1665444385754,"results":"81","hashOfConfig":"63"},{"size":1109,"mtime":1665444385757,"results":"82","hashOfConfig":"63"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qfghrc",{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},"1kqkj9h",{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"146"},{"filePath":"154","messages":"155","suppressedMessages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"157","messages":"158","suppressedMessages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"160","messages":"161","suppressedMessages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"163","messages":"164","suppressedMessages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"166","messages":"167","suppressedMessages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"169","messages":"170","suppressedMessages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"172","messages":"173","suppressedMessages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"175","messages":"176","suppressedMessages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"178","messages":"179","suppressedMessages":"180","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"181","messages":"182","suppressedMessages":"183","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"184","messages":"185","suppressedMessages":"186","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"187","messages":"188","suppressedMessages":"189","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"190","messages":"191","suppressedMessages":"192","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"193","messages":"194","suppressedMessages":"195","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"196","messages":"197","suppressedMessages":"198","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"199","messages":"200","suppressedMessages":"201","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},{"filePath":"202","messages":"203","suppressedMessages":"204","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"146"},"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\index.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\reportWebVitals.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\App.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Header.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\DeleteCardPopup.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Footer.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\EditProfilePopup.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\EditAvatarPopup.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Main.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\AddPlacePopup.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\ImagePopup.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\utils\\api.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\contexts\\CurrentUserContext.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Card.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\PopupWithForm.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Login.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\Register.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\ProtectedRoute.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\components\\InfoToolTip.js",[],[],"C:\\Users\\97250\\around-us-project-14\\react-around-auth\\src\\utils\\auth.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\index.js",[],[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\App.js",["205"],[],"import React, { useState, useEffect } from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\n/*import PopupWithForm from \"./PopupWithForm\";*/\r\nimport DeleteCardPopup from \"./DeleteCardPopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport {\r\n  Switch,\r\n  Route,\r\n  useHistory,\r\n  Redirect,\r\n} from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Register from \"./Register\";\r\nimport InfoToolTip from \"./InfoToolTip\";\r\nimport * as auth from \"../utils/auth\";\r\n\r\nfunction App() {\r\n  /*----------setting all pop ups to be close----------*/\r\n  const [isEditProfileOpen, setEditProfileOpen] = useState(false);\r\n  const [isAddPlaceOpen, setAddPlaceOpen] = useState(false);\r\n  const [isEditAvatarOpen, setEditAvatarOpen] = useState(false);\r\n  const [isPreviewImageOpen, setPreviewImageOpen] = useState(false);\r\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    name: \"\",\r\n    link: \"\",\r\n  });\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\r\n  const [infoTooltipType, setInfoTooltipType] = useState(\"\");\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\r\n  const history = useHistory();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [token, setToken] = useState(localStorage.getItem(\"jwt\"));\r\n\r\n  //const [userData, setUserData] = useState({\r\n  // email: 'email@mail.com',\r\n  //});\r\n\r\n  /*-----OPEN/CLOSE--HANDLERS-----------------*/\r\n  const handleEditProfileClick = () => {\r\n    setEditProfileOpen(true);\r\n  };\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlaceOpen(true);\r\n  };\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarOpen(true);\r\n  };\r\n  const handleDeleteCardClick = (card) => {\r\n    setDeletePopupOpen(true);\r\n    setSelectedCard(card);\r\n  };\r\n  const handleCardClick = (card) => {\r\n    setPreviewImageOpen(true);\r\n    setSelectedCard({\r\n      name: card.name,\r\n      link: card.link,\r\n    });\r\n  };\r\n\r\n  const closeAllModals = () => {\r\n    setEditProfileOpen(false);\r\n    setAddPlaceOpen(false);\r\n    setEditAvatarOpen(false);\r\n    setSelectedCard(false);\r\n    setPreviewImageOpen(false);\r\n    setDeletePopupOpen(false);\r\n    setIsInfoToolTipOpen(false);\r\n  };\r\n\r\n  /*--------------------API-EDIT-HANDLERS----------------------*/\r\n\r\n  const handleUpdateUser = ({ name, about }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .editProfile({ name, about }, token)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllModals();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (url) => {\r\n    setIsLoading(true);\r\n    api\r\n      .editAvatar(url, token)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllModals();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked, token)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((currentCard) =>\r\n            currentCard._id === card._id ? newCard : currentCard\r\n          )\r\n        );\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  const handleCardDelete = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCards(selectedCard._id, token)\r\n      .then((res) => {\r\n        const newCards = cards.filter(\r\n          (currentCard) => currentCard._id !== selectedCard._id\r\n        );\r\n        setCards(newCards);\r\n        closeAllModals();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleAddPlace = (card) => {\r\n    setIsLoading(true);\r\n    api\r\n      .createCards(card, token)\r\n      .then((card) => {\r\n        setCards([card, ...cards]);\r\n        closeAllModals();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  /*------------SETTING INFO USING API-------------*/\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      api\r\n        .getUserInfo(token)\r\n        .then(user => {\r\n          setCurrentUser(user);\r\n        })\r\n        .catch(console.log);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      api\r\n        .getInitialCards(token)\r\n        .then(res => {\r\n          setCards(res);\r\n        })\r\n        .catch(console.log);\r\n    }\r\n  }, [token]);\r\n\r\n\r\n  //CHECK TOKEN\r\n  useEffect(() => {\r\n    if (token) {\r\n      auth\r\n        .checkToken(token)\r\n        .then(res => {\r\n          if (res._id) {\r\n            setIsLoggedIn(true);\r\n            setEmail({ email: res.email });\r\n            history.push(\"/\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          history.push(\"/signin\");\r\n        })\r\n        .finally(() => {\r\n          setIsCheckingToken(false);\r\n        });\r\n    } else {\r\n      setIsCheckingToken(false);\r\n    }\r\n  }, [history]);\r\n\r\n  function onRegister({ email, password }) {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.data._id) {\r\n          setInfoTooltipType(\"success\");\r\n          history.push(\"/signin\");\r\n        } else {\r\n          //invalid data\r\n          setInfoTooltipType(\"fail\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipType(\"fail\");\r\n      })\r\n      .finally((res) => {\r\n        setIsInfoToolTipOpen(true);\r\n      });\r\n  }\r\n\r\n  function onLogin({ email, password }) {\r\n    auth\r\n      .login(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          setIsLoggedIn(true);\r\n          setEmail(email);\r\n          //when the 'onLogin()' handler is called the jwt is saved\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setToken(res.token);\r\n          //after successful authorization, the user is redirected to \"/\"\r\n          history.push(\"/\");\r\n        } else {\r\n          //invalid data\r\n          setInfoTooltipType(\"fail\");\r\n          setIsInfoToolTipOpen(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipType(\"fail\");\r\n        setIsInfoToolTipOpen(true);\r\n      });\r\n  }\r\n\r\n  function onSignOut() {\r\n    //when the 'onSignOut()' handler is call, the jwt is deleted\r\n    localStorage.removeItem(\"jwt\");\r\n    setIsLoggedIn(false);\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header onSignOut={onSignOut} isLoggedIn={isLoggedIn} email={email} />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              loggedIn={isLoggedIn}\r\n              isCheckingToken={isCheckingToken}\r\n            >\r\n              <Main\r\n                onEditProfileClick={handleEditProfileClick}\r\n                onAddPlaceClick={handleAddPlaceClick}\r\n                onEditAvatarClick={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleDeleteCardClick}\r\n                cards={cards}\r\n              />\r\n            </ProtectedRoute>\r\n            <Route path=\"/signup\">\r\n              <Register onRegister={onRegister} />\r\n            </Route>\r\n            <Route path=\"/signin\">\r\n              <Login\r\n                onLogin={onLogin}\r\n                setIsCheckingToken={setIsCheckingToken}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isOpen={isPreviewImageOpen}\r\n            onClose={closeAllModals}\r\n          />\r\n          <EditProfilePopup\r\n            isLoading={isLoading}\r\n            isOpen={isEditProfileOpen}\r\n            onClose={closeAllModals}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <EditAvatarPopup\r\n            isLoading={isLoading}\r\n            isOpen={isEditAvatarOpen}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onClose={closeAllModals}\r\n          />\r\n          <DeleteCardPopup\r\n            isOpen={isDeletePopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllModals}\r\n            onSubmit={handleCardDelete}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlaceOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllModals}\r\n            onAddPlaceSubmit={handleAddPlace}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n        <InfoToolTip\r\n          isOpen={isInfoToolTipOpen}\r\n          onClose={closeAllModals}\r\n          type={infoTooltipType}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Footer.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Header.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\ImagePopup.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\DeleteCardPopup.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Main.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\EditProfilePopup.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Login.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\EditAvatarPopup.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\AddPlacePopup.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\utils\\api.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Register.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\ProtectedRoute.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\InfoToolTip.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\utils\\auth.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\contexts\\CurrentUserContext.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\Card.js",[],[],"C:\\Users\\97250\\react-around-api-full\\around-frontend\\src\\components\\PopupWithForm.js",[],[],{"ruleId":"206","severity":1,"message":"207","line":210,"column":6,"nodeType":"208","endLine":210,"endColumn":15,"suggestions":"209"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.","ArrayExpression",["210"],{"desc":"211","fix":"212"},"Update the dependencies array to be: [history, token]",{"range":"213","text":"214"},[5643,5652],"[history, token]"]